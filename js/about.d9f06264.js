(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["about"],{3530:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{width:"100vw",height:"100vh"}},[e("v-container",[e("v-row",[e("v-col",{staticClass:"pt-8 mt-8",attrs:{cols:"12"}},[e("div",{staticClass:"d-flex align-center"},[e("h2",[t._v("ðŸ‘‹ Welcome Timi")]),e("v-spacer"),e("AdminModal",{on:{logout:t.logout}})],1),e("v-divider",{staticClass:"my-4"}),e("p",{staticClass:"subtitle-1 mb-0"},[t._v("Latest Song Requests")]),e("PendingSongRequests",{attrs:{isLoggedIn:t.isLoggedIn}}),e("v-divider",{staticClass:"my-8"}),e("AllSongRequests")],1)],1)],1),e("LoginModal",{attrs:{logout:t.isLoggedIn}})],1)},a=[],n=function(){var t=this,e=t._self._c;return e("div",[e("v-row",{attrs:{align:"center"}},[e("v-col",{attrs:{cols:"12"}},[e("div",{staticClass:"d-flex align-center pr-4"},[e("p",{staticClass:"subtitle-1 mb-0"},[t._v("All Song Requests")]),e("v-spacer"),t.$vuetify.breakpoint.mdAndUp?e("v-text-field",{staticClass:"mx-2",attrs:{readonly:t.loading,"prepend-inner-icon":"mdi-magnify",clearable:"",dense:"",label:"Search","hide-details":"",outlined:"","append-outer-icon":"mdi-search-web"},on:{"click:clear":t.clearSearch,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getSongRequests.apply(null,arguments)},"click:append-outer":t.getSongRequests},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}):t._e(),e("v-select",{staticStyle:{"max-width":"150px"},attrs:{disabled:t.loading,label:"Status",items:["all","played","unplayed"],dense:"",outlined:"","hide-details":""},on:{change:t.getSongRequests},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}})],1)]),Boolean(t.songRequests.length)||t.loading?e("v-col",{staticClass:"pr-4 py-0",attrs:{cols:"12"}},[e("v-slide-y-transition",{attrs:{"leave-absolute":""}},[e("v-progress-linear",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],attrs:{color:"primary",indeterminate:"",rounded:"",height:"6"}})],1),e("v-slide-y-transition",[e("div",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}]},[e("v-slide-y-transition",{staticClass:"py-0",attrs:{group:"",tag:"v-list"}},t._l(t.songRequests,(function(s){return e("SongRequestItem",{key:s.id,attrs:{request:s},on:{togglePlayedStatus:t.togglePlayedStatus}})})),1)],1)])],1):e("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[e("v-alert",{staticClass:"mb-0",attrs:{dense:"",type:"info",text:""}},[t._v(" No "),"all"!==t.status?e("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.status))]):t._e(),t._v(" Song Requests found"),t.search?e("span",[t._v(" for "),e("strong",[t._v('"'+t._s(t.search)+'"')]),t._v(" search term")]):t._e(),t._v(". ")])],1),e("v-col",{staticClass:"py-1 mt-2",attrs:{cols:"12",sm:"4"}},[e("div",{staticClass:"d-flex align-center justify-start"},[e("p",{staticClass:"mb-0 mr-8 grow"},[t._v(" Showing "+t._s((t.currentPage-1)*t.limit+1)+" to "+t._s(t.limit>t.total?t.total:t.limit*t.currentPage)+" of "+t._s(t.total)+" ")]),e("v-select",{staticClass:"shrink",attrs:{"hide-details":"",solo:"",dense:"",items:[5,10,25,50]},on:{change:t.limitChanged},model:{value:t.limit,callback:function(e){t.limit=e},expression:"limit"}}),e("p",{staticClass:"mb-0 ml-4 grow"},[t._v(" "+t._s(t.$vuetify.breakpoint.mdAndUp?"Items":"")+" Per Page ")])],1)]),e("v-col",{staticClass:"py-1 mt-2",attrs:{cols:"2"}}),e("v-col",{staticClass:"py-1 mt-2",attrs:{cols:"12",sm:"6"}},[e("div",{staticClass:"d-flex",class:t.$vuetify.breakpoint.smAndUp?"justify-end":"justify-center"},[e("v-pagination",{attrs:{length:t.pages,"prev-icon":"mdi-menu-left","next-icon":"mdi-menu-right","total-visible":7},on:{next:t.pageNext,previous:t.pagePrevious,input:t.pageInput},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)])],1)],1)},o=[],l=s("365c"),r=s("2f62"),d=function(){var t=this,e=t._self._c;return e("v-card",{staticClass:"px-3 my-5",class:t.request.hasBeenPlayed?"played":"unplayed"},[e("v-layout",{attrs:{row:"",wrap:""}},[e("v-flex",{attrs:{md1:"",sm1:"",xs2:""}},[e("div",[e("v-avatar",{attrs:{tile:"",color:"grey darken-4 mr-4"}},[e("v-icon",{attrs:{large:"",dark:""}},[t._v("mdi-music")])],1)],1)]),e("v-flex",{attrs:{md3:"",sm5:"",xs10:""}},[e("div",{staticClass:"caption grey--text text--lighten-2"},[t._v("Song Title")]),e("div",{staticClass:"secondary--text text--lighten-1"},[t._v(t._s(t.request.title))])]),t.$vuetify.breakpoint.xs?e("v-flex",{attrs:{sm1:"",xs2:""}}):t._e(),e("v-flex",{attrs:{md3:"",sm6:"",xs5:""}},[e("div",{staticClass:"caption grey--text text--lighten-2"},[t._v("Artist")]),e("div",{staticClass:"secondary--text text--lighten-1"},[t._v(t._s(t.request.artist))])]),t.$vuetify.breakpoint.smOnly?e("v-flex",{attrs:{sm1:"",xs2:""}}):t._e(),e("v-flex",{attrs:{md2:"",sm5:"",xs5:""}},[e("div",{staticClass:"caption grey--text text--lighten-2"},[t._v("Requested By")]),e("div",{staticClass:"secondary--text text--lighten-1"},[t._v(t._s(t.request.requestedBy))])]),t.$vuetify.breakpoint.xs?e("v-flex",{attrs:{sm1:"",xs2:""}}):t._e(),e("v-flex",{attrs:{md2:"",sm5:"",xs8:""}},[e("div",{staticClass:"caption grey--text text--lighten-2"},[t._v("Requested At")]),e("div",{staticClass:"secondary--text text--lighten-1"},[t._v(t._s(t.formattedTime(t.request.requestedAt)))])]),e("v-flex",{attrs:{md1:"",sm1:"",xs2:""}},[e("div",{staticClass:"caption grey--text text--lighten-2"},[t._v("Actions")]),e("div",{staticClass:"d-flex justify-center mt-n4 mb-2"},[e("v-btn",{staticClass:"mt-4 mr-4",attrs:{small:"",text:"",color:"accent darken-3",icon:""},on:{click:t.toggleEditSong}},[e("v-icon",[t._v("mdi-"+t._s(t.isEditing?"chevron-up":"pencil"))])],1),e("v-checkbox",{attrs:{"hide-details":""},model:{value:t.songHasBeenPlayed,callback:function(e){t.songHasBeenPlayed=e},expression:"songHasBeenPlayed"}})],1)])],1),e("v-expand-transition",[e("div",{directives:[{name:"show",rawName:"v-show",value:t.isEditing,expression:"isEditing"}]},[e("RequestEditForm",{attrs:{artist:t.request.artist,title:t.request.title,"is-editing":t.isEditing,"requested-by":t.request.requestedBy,id:t.request.id},on:{updaterequest:t.updateRequest,deleterequest:t.deleteRequest}})],1)]),e("v-overlay",{attrs:{absolute:"",value:t.loading}},[e("v-progress-circular",{attrs:{indeterminate:"",size:"32"}})],1)],1)},c=[],u=function(){var t=this,e=t._self._c;return e("v-container",{staticClass:"pb-4"},[e("v-row",[e("v-col",{attrs:{cols:"12",md:"4",sm:"6"}},[e("v-text-field",{attrs:{label:"Song Title",dense:"","hide-details":"",outlined:""},model:{value:t.newTitle,callback:function(e){t.newTitle=e},expression:"newTitle"}})],1),e("v-col",{attrs:{cols:"12",md:"4",sm:"6"}},[e("v-text-field",{attrs:{label:"Song Artist",dense:"","hide-details":"",outlined:""},model:{value:t.newArtist,callback:function(e){t.newArtist=e},expression:"newArtist"}})],1),e("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[e("v-text-field",{attrs:{label:"Requested By",dense:"","hide-details":"",outlined:""},model:{value:t.newRequestedBy,callback:function(e){t.newRequestedBy=e},expression:"newRequestedBy"}})],1),e("v-col",{attrs:{cols:"12"}},[e("div",{staticClass:"d-flex"},[e("v-spacer"),e("v-btn",{staticClass:"mx-2",attrs:{color:"accent"},on:{click:t.updateRequest}},[e("v-icon",{attrs:{left:""}},[t._v("mdi-content-save")]),t._v("Update")],1),e("v-btn",{attrs:{text:"",color:"error"},on:{click:t.deleteRequest}},[e("v-icon",{attrs:{left:""}},[t._v("mdi-trash-can")]),t._v("Delete")],1)],1)])],1)],1)},g=[],h={props:{isEditing:{type:Boolean,default:!1},title:{type:String,default:""},artist:{type:String,default:""},requestedBy:{type:String,default:""},id:{type:String,default:Math.random().toString()}},data(){return{newTitle:"",newArtist:"",newRequestedBy:""}},watch:{isEditing(t){t&&(this.newTitle=this.title,this.newArtist=this.artist,this.newRequestedBy=this.requestedBy)}},methods:{...Object(r["b"])({showToast:"ui/showToast"}),updateRequest(){this.newArtist.trim()||this.newTitle.trim()?this.$emit("updaterequest",{id:this.id,title:this.newTitle.trim()||"Any Song",artist:this.newArtist.trim()||"Unknown",requestedBy:this.newRequestedBy.trim()||"Anonymous"}):this.showToast({show:!0,message:"Please add song title or artist",sclass:"error",timeout:2e3})},deleteRequest(){this.$emit("deleterequest",{id:this.id})}}},m=h,v=s("2877"),p=Object(v["a"])(m,u,g,!1,null,null,null),y=p.exports,w={props:{request:{type:Object,default:()=>({id:Math.random(),title:"Exodus",artist:"Bob Marley",requestedBy:"James Bond",requestedAt:"2023-07-23T05:14:49.194Z",hasBeenPlayed:!1})}},data(){return{loading:!1,isEditing:!1}},computed:{songHasBeenPlayed:{get(){return this.request.hasBeenPlayed},set(t){return this.statusChanged(t)}}},methods:{...Object(r["b"])({showToast:"ui/showToast"}),formattedTime(t){const e=new Date(t);return e.toLocaleString(["en-US"],{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})},toggleEditSong(){this.isEditing=!this.isEditing},async statusChanged(t){if(!this.loading){this.loading=!0;try{const{data:{data:e}}=await l["a"].togglePlayedStatus(this.request.id,t);this.$emit("togglePlayedStatus",{id:e.id,status:e.hasBeenPlayed})}catch(e){console.log({error:e})}finally{this.loading=!1}}},async updateRequest(t){if(console.log({e:t}),!this.loading){this.loading=!0;try{const{id:e,...s}=t,{data:i}=await l["a"].updateSongRequest(e,s);i.success&&(this.isEditing=!1,this.showToast({show:!0,message:"Song updated",timeout:3e3,sclass:"success"}))}catch(e){console.log({error:e})}finally{this.loading=!1}}},async deleteRequest(t){if(console.log({e:t}),!this.loading){this.loading=!0;try{const{data:e}=await l["a"].deleteSongRequest(t.id);e.success&&(this.isEditing=!1,this.showToast({show:!0,message:"Song deleted",timeout:3e3,sclass:"info"}))}catch(e){console.log({error:e})}finally{this.loading=!1}}}},components:{RequestEditForm:y}},f=w,x=(s("f6f8"),Object(v["a"])(f,d,c,!1,null,null,null)),q=x.exports,_={components:{SongRequestItem:q},data(){return{songRequests:[],search:"",currentPage:1,limit:25,status:"all",pages:0,next:null,total:1,loading:!1}},methods:{...Object(r["b"])({showToast:"ui/showToast"}),async clearSearch(){this.search="",await this.getSongRequests()},async getSongRequests(t=1,e=25){if(!this.loading){this.loading=!0;try{const{data:{data:s}}=this.search?await l["a"].searchSongRequests(t,e,this.search,this.status):await l["a"].getSongRequests(t,e,this.status),{total:i,pages:a,prev:n,next:o,page:r,data:d,limit:c}=s;this.total=i,this.currentPage=r,this.prev=n,this.next=o,this.pages=a,this.songRequests=d,this.limit=c}catch(s){console.log({error:s})}finally{this.loading=!1}}},async limitChanged(t){await this.getSongRequests(1,t)},async pageInput(t){await this.getSongRequests(t,this.limit)},async pagePrevious(){await this.getSongRequests(this.currentPage,this.limit)},async pageNext(){await this.getSongRequests(this.currentPage,this.limit)},async togglePlayedStatus(t){console.log({event:"Toggle played status",e:t})}},sockets:{SONG_REQUEST_ADDED(t){this.songRequests.unshift(t),this.total++,this.songRequests.length>this.limit&&(this.songRequests.pop(),this.pages=Math.ceil(this.total/this.limit))},SONG_REQUEST_PLAYED(t){const e=this.songRequests.findIndex(e=>e.id===t.id);e>-1&&(this.songRequests[e].hasBeenPlayed=t.hasBeenPlayed)},SONG_REQUEST_UPDATED(t){const e=this.songRequests.findIndex(e=>e.id===t.id);e>-1&&this.songRequests.splice(e,1,t)},async SONG_REQUEST_DELETED(){await this.getSongRequests()},SONG_REQUEST_UNPLAYED(t){const e=this.songRequests.findIndex(e=>e.id===t.id);e>-1&&(this.songRequests[e].hasBeenPlayed=t.hasBeenPlayed)}},async mounted(){await this.getSongRequests()}},R=_,S=Object(v["a"])(R,n,o,!1,null,null,null),b=S.exports,P=function(){var t=this,e=t._self._c;return e("div",[e("v-row",{attrs:{align:"center"}},[e("v-col",{staticClass:"pb-0",attrs:{cols:"12"}},[e("v-slide-y-transition",{attrs:{group:"",tag:"v-list"}},t._l(t.songRequests,(function(s){return e("SongRequestItem",{key:s.id,attrs:{request:s},on:{togglePlayedStatus:t.togglePlayedStatus}})})),1),e("v-slide-y-transition",[e("v-alert",{directives:[{name:"show",rawName:"v-show",value:!Boolean(t.songRequests.length)&&!t.loading,expression:"!Boolean(songRequests.length) && !loading"}],attrs:{type:"success",text:""}},[t._v("ðŸŽµ No Pending Song requests ðŸ‘‹")])],1)],1),e("v-col",{staticClass:"py-1 mt-2",attrs:{cols:"12",sm:"4"}},[e("div",{staticClass:"d-flex align-center justify-start"},[e("p",{staticClass:"mb-0 mr-8 grow"},[t._v(" Showing "+t._s((t.currentPage-1)*t.limit+1)+" to "+t._s(t.limit>t.total?t.total:t.limit*t.currentPage)+" of "+t._s(t.total)+" ")]),e("v-select",{staticClass:"shrink",attrs:{"hide-details":"",solo:"",dense:"",items:[5,10,25,50]},on:{change:t.limitChanged},model:{value:t.limit,callback:function(e){t.limit=e},expression:"limit"}}),e("p",{staticClass:"mb-0 ml-4 grow"},[t._v(" "+t._s(t.$vuetify.breakpoint.mdAndUp?"Items":"")+" Per Page ")])],1)]),e("v-col",{staticClass:"py-1 mt-2",attrs:{cols:"2"}}),e("v-col",{staticClass:"py-1 mt-2",attrs:{cols:"12",sm:"6"}},[e("div",{staticClass:"d-flex",class:t.$vuetify.breakpoint.smAndUp?"justify-end":"justify-center"},[e("v-pagination",{attrs:{length:t.pages,"prev-icon":"mdi-menu-left","next-icon":"mdi-menu-right","total-visible":7},on:{next:t.pageNext,previous:t.pagePrevious,input:t.pageInput},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)])],1)],1)},k=[],C={components:{SongRequestItem:q},props:{isLoggedIn:{type:Boolean,default:!1}},data(){return{songRequests:[],currentPage:1,limit:25,pages:0,next:null,total:1,loading:!1}},methods:{...Object(r["b"])({showToast:"ui/showToast"}),async getPendingSongRequests(t=1,e=25){if(!this.loading){this.loading=!0;try{const{data:{data:s}}=await l["a"].getSongRequests(t,e,"unplayed"),{total:i,pages:a,prev:n,next:o,page:r,data:d,limit:c}=s;this.total=i,this.currentPage=r,this.prev=n,this.next=o,this.pages=a,this.songRequests=d,this.limit=c}catch(s){console.log({error:s})}finally{this.loading=!1}}},async limitChanged(t){await this.getPendingSongRequests(1,t)},async pageInput(t){await this.getPendingSongRequests(t,this.limit)},async pagePrevious(){await this.getPendingSongRequests(this.currentPage,this.limit)},async pageNext(){await this.getPendingSongRequests(this.currentPage,this.limit)},async togglePlayedStatus(t){console.log({event:"Toggle played status",e:t})}},sockets:{SONG_REQUEST_ADDED(t){this.songRequests.unshift(t),this.total++,this.songRequests.length>this.limit&&(this.songRequests.pop(),this.pages=Math.ceil(this.total/this.limit)),this.isLoggedIn&&this.showToast({show:!0,message:"New Song Request",timeout:3e3,sclass:"warning"})},async SONG_REQUEST_PLAYED(t){this.showToast({show:!0,message:`"${t.title}" marked as played`,timeout:2e3,sclass:"success"}),await this.getPendingSongRequests(this.currentPage,this.limit)},SONG_REQUEST_UNPLAYED(t){this.songRequests.unshift(t),this.total++,this.songRequests.length>this.limit&&(this.songRequests.pop(),this.pages=Math.ceil(this.total/this.limit))},SONG_REQUEST_UPDATED(t){const e=this.songRequests.findIndex(e=>e.id===t.id);e>-1&&this.songRequests.splice(e,1,t)},async SONG_REQUEST_DELETED(){await this.getPendingSongRequests(this.currentPage,this.limit)}},async mounted(){await this.getPendingSongRequests()}},E=C,T=Object(v["a"])(E,P,k,!1,null,null,null),A=T.exports,B=function(){var t=this,e=t._self._c;return e("div",[e("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e("v-card",{staticClass:"d-flex align-center justify-center flex-column ma-0",staticStyle:{"max-height":"90vh"},attrs:{tile:""}},[e("v-container",{staticStyle:{"max-width":"80vw"}},[e("v-row",{attrs:{justify:"center"}},[e("v-col",{staticClass:"px-4",attrs:{cols:"12",md:"6"}},[e("h1",{staticClass:"text-center mb-n1"},[t._v("Admin Login")]),e("v-divider",{staticClass:"my-3"}),e("v-text-field",{attrs:{"prepend-inner-icon":"mdi-account",readonly:t.loading,label:"Admin Email",placeholder:"Admin Email",rounded:"",solo:"",outlined:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),e("v-text-field",{attrs:{"prepend-inner-icon":"mdi-lock",readonly:t.loading,placeholder:"Admin Password",rounded:"",solo:"",outlined:"",type:t.showPassword?"text":"password","append-icon":t.showPassword?"mdi-eye":"mdi-eye-off",label:"Admin Password"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login.apply(null,arguments)},"click:append":function(e){t.showPassword=!t.showPassword}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),e("v-btn",{attrs:{"x-large":"",rounded:"",color:"primary",block:"",loading:t.loading,disabled:t.loading},on:{click:t.login}},[t._v("Login "),e("v-icon",{attrs:{right:""}},[t._v("mdi-send")])],1)],1)],1)],1),e("v-overlay",{attrs:{absolute:"",value:t.loading}},[e("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1)],1)],1)],1)},O=[],N={props:{logout:{type:Boolean,default:!1}},data(){return{dialog:!0,email:"",password:"",loading:!1,showPassword:!1}},watch:{logout(){this.showToast({show:!0,message:"Logged out",sclass:"info",timeout:3e3}),this.dialog=!0}},methods:{...Object(r["b"])({showToast:"ui/showToast"}),async login(){if(this.loading)return;if(this.loading=!0,!this.email.trim())return this.showToast({show:!0,message:"Email is required",sclass:"error",timeout:3e3}),void(this.loading=!1);if(!this.password.trim())return this.showToast({show:!0,message:"Password is required",sclass:"error",timeout:3e3}),void(this.loading=!1);const{email:t,password:e}=this.$data;try{const{data:s}=await l["a"].login(t,e);s.success&&(this.showToast({show:!0,message:s.message,sclass:"success",timeout:3e3}),this.dialog=!1,this.email="",this.password="")}catch(s){console.log({error:s}),s.response?this.showToast({show:!0,message:s.response.data.message,sclass:"error",timeout:3e3}):this.showToast({show:!0,message:"Something went wrong - please try again",sclass:"error",timeout:3e3})}finally{this.loading=!1}}}},j=N,I=Object(v["a"])(j,B,O,!1,null,null,null),L=I.exports,U=function(){var t=this,e=t._self._c;return e("div",[e("v-menu",{attrs:{transition:"slide-x-transition","offset-y":"",bottom:"",left:""},scopedSlots:t._u([{key:"activator",fn:function({on:s,attrs:i}){return[e("v-btn",t._g(t._b({staticClass:"primary",attrs:{dark:"",icon:""}},"v-btn",i,!1),s),[e("v-icon",[t._v("mdi-cog")])],1)]}}])},[e("v-list",[e("v-list-item",[e("v-btn",{attrs:{text:"",block:""}},[t._v("Hide Recently Played")])],1),e("v-list-item",[e("v-btn",{attrs:{text:"",block:""},on:{click:t.logout}},[t._v("Log out")])],1)],1)],1)],1)},D=[],$={data:()=>({}),methods:{logout(){this.$emit("logout")}}},G=$,M=Object(v["a"])(G,U,D,!1,null,null,null),Q=M.exports,H={name:"Admin",components:{PendingSongRequests:A,AllSongRequests:b,LoginModal:L,AdminModal:Q},data(){return{isLoggedIn:!0}},methods:{logout(){this.isLoggedIn=!this.isLoggedIn}}},Y=H,J=Object(v["a"])(Y,i,a,!1,null,null,null);e["default"]=J.exports},5090:function(t,e,s){},f6f8:function(t,e,s){"use strict";s("5090")}}]);
//# sourceMappingURL=about.d9f06264.js.map