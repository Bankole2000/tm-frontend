(function(e){function t(t){for(var a,n,i=t[0],l=t[1],c=t[2],u=0,d=[];u<i.length;u++)n=i[u],Object.prototype.hasOwnProperty.call(o,n)&&o[n]&&d.push(o[n][0]),o[n]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);m&&m(t);while(d.length)d.shift()();return r.push.apply(r,c||[]),s()}function s(){for(var e,t=0;t<r.length;t++){for(var s=r[t],a=!0,n=1;n<s.length;n++){var i=s[n];0!==o[i]&&(a=!1)}a&&(r.splice(t--,1),e=l(l.s=s[0]))}return e}var a={},n={app:0},o={app:0},r=[];function i(e){return l.p+"js/"+({about:"about"}[e]||e)+"."+{about:"d9f06264","chunk-2d22d746":"c45b0bd7"}[e]+".js"}function l(t){if(a[t])return a[t].exports;var s=a[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,l),s.l=!0,s.exports}l.e=function(e){var t=[],s={about:1};n[e]?t.push(n[e]):0!==n[e]&&s[e]&&t.push(n[e]=new Promise((function(t,s){for(var a="css/"+({about:"about"}[e]||e)+"."+{about:"620b0116","chunk-2d22d746":"31d6cfe0"}[e]+".css",o=l.p+a,r=document.getElementsByTagName("link"),i=0;i<r.length;i++){var c=r[i],u=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(u===a||u===o))return t()}var d=document.getElementsByTagName("style");for(i=0;i<d.length;i++){c=d[i],u=c.getAttribute("data-href");if(u===a||u===o)return t()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=t,m.onerror=function(t){var a=t&&t.target&&t.target.src||o,r=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=a,delete n[e],m.parentNode.removeChild(m),s(r)},m.href=o;var g=document.getElementsByTagName("head")[0];g.appendChild(m)})).then((function(){n[e]=0})));var a=o[e];if(0!==a)if(a)t.push(a[2]);else{var r=new Promise((function(t,s){a=o[e]=[t,s]}));t.push(a[2]=r);var c,u=document.createElement("script");u.charset="utf-8",u.timeout=120,l.nc&&u.setAttribute("nonce",l.nc),u.src=i(e);var d=new Error;c=function(t){u.onerror=u.onload=null,clearTimeout(m);var s=o[e];if(0!==s){if(s){var a=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+a+": "+n+")",d.name="ChunkLoadError",d.type=a,d.request=n,s[1](d)}o[e]=void 0}};var m=setTimeout((function(){c({type:"timeout",target:u})}),12e4);u.onerror=u.onload=c,document.head.appendChild(u)}return Promise.all(t)},l.m=e,l.c=a,l.d=function(e,t,s){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(l.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)l.d(s,a,function(t){return e[t]}.bind(null,a));return s},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/",l.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var d=0;d<c.length;d++)t(c[d]);var m=u;r.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"01ea":function(e,t,s){"use strict";t["a"]={baseUrl:"https://timikeys.up.railway.app"}},"365c":function(e,t,s){"use strict";s("88a7"),s("271a"),s("5494");var a=s("cee4"),n=s("01ea");const o=n["a"].baseUrl+"/api/v1";t["a"]={login:(e,t)=>a["a"].post(o+"/login",{email:e,password:t}),addSongRequest:({title:e,artist:t,requestedBy:s})=>a["a"].post(o+"/requests",{title:e,artist:t,requestedBy:s}),getSongRequests:(e,t,s="all")=>{let n="";return"all"!==s&&(n+="&status="+s),a["a"].get(`${o}/requests?page=${e}&limit=${t}${n}`)},searchSongRequests:(e,t,s,n="all")=>{let r="";return"all"!==n&&(r+="&status="+n),a["a"].get(`${o}/requests?page=${e}&limit=${t}&q=${s}${r}`)},togglePlayedStatus:(e,t=!0)=>a["a"].put(`${o}/requests/${e}`,{hasBeenPlayed:t}),updateSongRequest:(e,t)=>a["a"].patch(`${o}/requests/${e}`,t),deleteSongRequest:e=>a["a"].delete(`${o}/requests/${e}`),getPerformances:(e,t)=>a["a"].get(`${o}/performances?page=${e}&limit=${t}`),searchPerformances:(e,t,s,n)=>{let r="",i="";n&&(r+="&genres="+n),s&&(i+="&q="+s);const l=new URL(`${o}/performances/search?page=${e}&limit=${t}${i}${r}`);return a["a"].get(l.href)},updatePerformance:(e,t)=>a["a"].put(`${o}/performances/${e}`,t),getGenres:()=>a["a"].get(o+"/performances/genres")}},"4ffd":function(e,t,s){e.exports=s.p+"img/logo.ebd169ae.png"},"56d7":function(e,t,s){"use strict";s.r(t);var a=s("2b0e"),n=function(){var e=this,t=e._self._c;return t("v-app",[t("v-main",[t("router-view")],1),t("Snackbar")],1)},o=[],r=function(){var e=this,t=e._self._c;return t("v-snackbar",{attrs:{rounded:"lg",value:e.toast.show,bottom:!0,left:e.$vuetify.breakpoint.mdAndUp,timeout:e.toast.timeout},scopedSlots:e._u([{key:"action",fn:function({attrs:s}){return[t("v-btn",e._b({staticClass:"text-capitalize",attrs:{dark:"",text:"",color:e.toast.sclass},on:{click:function(t){return e.showToast({show:!1})}}},"v-btn",s,!1),[t("v-icon",{attrs:{left:""}},[e._v(e._s(e.toast.icon))]),e._v(" Close ")],1)]}}])},[t("span",{class:e.toast.sclass+"--text text-capitalize font-weight-bold"},[e._v(e._s("warning"===e.toast.sclass?"Alert":e.toast.sclass)+": Â ")]),t("span",{domProps:{innerHTML:e._s(e.toast.message)}})])},i=[],l=s("2f62"),c={data(){return{}},computed:{...Object(l["c"])({toast:"ui/toast"})},methods:{...Object(l["b"])({showToast:"ui/showToast"})},updated(){const{timeout:e,show:t}=this.toast;t&&setTimeout(()=>{this.showToast({show:!1})},e)}},u=c,d=s("2877"),m=Object(d["a"])(u,r,i,!1,null,null,null),g=m.exports,h={components:{Snackbar:g},name:"App",data:()=>({})},p=h,v=Object(d["a"])(p,n,o,!1,null,null,null),f=v.exports,y=s("8c4f"),w=(s("14d9"),function(){var e=this,t=e._self._c;return t("div",{staticClass:"home"},[t("div",{staticStyle:{display:"flex",width:"100vw",height:"100vh"}},[t("v-col",{staticClass:"pa-0 ma-0 d-none d-md-flex flex-column",attrs:{cols:"0",md:"7"}},[t("v-card",{staticStyle:{height:"100vh","align-items":"center","justify-content":"center"},attrs:{gradient:"to top right, rgba(100,115,201,.33), rgba(25,32,72,.7)",dark:"",tile:""}},[t("v-img",{attrs:{src:s("f106"),height:"100vh",gradient:"to top right, rgba(100,115,201,.33), rgba(25,32,72,.7)"}},[t("div",{staticClass:"d-flex align-center flex-column",staticStyle:{height:"100vh"}},[t("v-row",{attrs:{justify:"center",align:"center"}},[t("v-col",[t("h1",{staticClass:"display-4 font-weight-bold mb-4 text-center"},[e._v("Â ")]),t("h1",{staticClass:"display-2 font-weight-thin mb-16 text-center px-4"},[e._v(" Let's play your favorite songs ")]),t("div",{staticClass:"mt-n8"},[t("RecentlyPlayedDesktop")],1)])],1)],1)])],1)],1),t("v-col",{staticClass:"pa-0 ma-0",attrs:{cols:"12",md:"5"}},[t("v-card",{staticClass:"ma-0 pa-0",staticStyle:{height:"100vh",display:"flex","flex-direction":"column","justify-content":"center"},style:{background:e.$vuetify.breakpoint.smAndDown?`linear-gradient(to top, rgba(255, 255, 255, 255) 0%, rgba(255, 255, 255, 0.5) 59%, rgba(255, 255, 255, 0.65) 100%), url('${s("f106")}') no-repeat center left`:"none"},attrs:{elevation:"0",tile:""}},[t("div",{staticClass:"mb-8",staticStyle:{display:"flex","align-items":"center","justify-content":"center",cursor:"pointer"},on:{click:function(t){return e.$router.push({name:"pages.home"})}}},[t("v-avatar",{attrs:{tile:"",color:"transparent",size:"54"}},[t("v-img",{attrs:{contain:"",src:s("4ffd")}})],1),t("h1",{staticClass:"mx-4 display-1 font-weight-bold font-italic"},[e._v("TimiKeys")])],1),e.$vuetify.breakpoint.smAndDown?t("p",{staticClass:"mb-2 text-center headline mt-n4"},[e._v("ðŸ’¿ You're the "),t("strong",[e._v("DJ")]),e._v("! "),t("br"),e._v(" Request your favorite songs "),t("i",[e._v("live")]),e._v(" ðŸŽ¹")]):e._e(),t("div",{staticClass:"px-6"},[t("SongRequestForm",{on:{requestSong:e.requestSong}}),t("div",{staticClass:"d-flex align-center justify-end",class:e.$vuetify.breakpoint.smAndDown?"mt-4":"mt-16 pt-16"},e._l(e.socialLinks,(function(e){return t("SocialButton",{key:e.name,attrs:{platform:e.platform,icon:e.icon,username:e.username}})})),1),e.$vuetify.breakpoint.smAndDown?t("RecentlyPlayedMobile"):e._e()],1)])],1)],1)])}),b=[],_=function(){var e=this,t=e._self._c;return t("div",{staticClass:"song-request-form",staticStyle:{width:"100%"}},[t("v-row",[t("v-col",{attrs:{cols:"12"}},[t("v-text-field",{attrs:{disabled:e.isCooldown,label:"Song Title",hint:"If you don't know the song title, just use a popular phrase from it",type:"text",placeholder:"e.g 'We are the world' or 'any song by Hans Zimmer'",solo:"",rounded:"",outlined:"","prepend-inner-icon":"mdi-music"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.requestSong.apply(null,arguments)}},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}}),t("v-text-field",{attrs:{disabled:e.isCooldown,hint:"If you don't know the Artists' name, just enter 'Anonymous' or 'Unknown'",type:"text",label:"Song Artist (Optional)",solo:"",rounded:"",outlined:"",placeholder:"e.g. 'Micheal Jackson' or 'Frank Ocean' or 'Unknown'","prepend-inner-icon":"mdi-microphone-variant"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.requestSong.apply(null,arguments)}},model:{value:e.artist,callback:function(t){e.artist=t},expression:"artist"}}),t("v-text-field",{attrs:{disabled:e.isCooldown,label:"Requested By (optional)",placeholder:"Your Name (optional)",solo:"",rounded:"",outlined:"","prepend-inner-icon":"mdi-account"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.requestSong.apply(null,arguments)}},model:{value:e.requestedBy,callback:function(t){e.requestedBy=t},expression:"requestedBy"}}),t("v-expand-transition",[t("v-alert",{directives:[{name:"show",rawName:"v-show",value:e.message.show,expression:"message.show"}],attrs:{outlined:"",type:e.message.type||"info",text:""}},[e._v(" "+e._s(e.message.message)+" ")])],1),e.isCooldown?t("v-alert",{staticClass:"cooldown-popup",attrs:{type:"info",text:""}},[e._v(" Heyy, chill for "+e._s(e.cooldownTimeLeft)+" seconds before next song. ")]):e._e(),t("v-btn",{attrs:{rounded:"","x-large":"",block:"",color:"primary",loading:e.loading},on:{click:e.requestSong}},[e._v("Request Song "),t("v-icon",{attrs:{right:""}},[e._v("mdi-piano")])],1)],1)],1),t("v-overlay",{attrs:{absolute:"",color:"warning",value:e.loading,opacity:.3}})],1)},k=[],x=s("365c"),S={data(){return{title:"",artist:"",requestedBy:"",loading:!1,message:{show:!1,message:"",type:""},lastRequestTime:null,cooldownPeriod:45,cooldownTimeLeft:0,cooldownInterval:null}},computed:{isCooldown(){if(!this.lastRequestTime)return!1;const e=Math.floor((Date.now()-this.lastRequestTime)/1e3);return e<this.cooldownPeriod}},methods:{...Object(l["b"])({showToast:"ui/showToast"}),async requestSong(){if(this.loading)return;if(this.isCooldown)return void this.startCooldownTimer();if(this.loading=!0,!this.title.trim()&&!this.artist.trim())return this.showToast({show:!0,message:"Please add a Song Title or Artist",sclass:"error",timeout:2e3}),void(this.loading=!1);const e={title:this.title.trim()||"Any Song",artist:this.artist.trim()||"Unknown Artist",requestedBy:this.requestedBy.trim()||"Anonymous"};try{const t=await x["a"].addSongRequest(e);t.data.success&&(this.showToast({show:!0,message:"Song request sent",timeout:3e3,sclass:"success"}),this.showMessage("Listen closely ðŸŽ¶","success",5e3),this.title="",this.artist="",this.requestedBy="",this.lastRequestTime=Date.now(),this.startCooldownTimer())}catch(t){this.showToast({show:!0,message:"An error occurred",timeout:3e3,sclass:"error"}),this.showMessage("Looks like something went wrong - please try again","error",3e3),console.log({error:t})}finally{this.loading=!1}this.$emit("requestSong",e)},showMessage(e,t,s=5e3){this.message={show:!0,message:e,type:t},setTimeout(()=>{this.message={show:!1,message:"",type:""}},s)},startCooldownTimer(){this.cooldownTimeLeft=this.cooldownPeriod,this.cooldownInterval&&clearInterval(this.cooldownInterval),this.cooldownInterval=setInterval(()=>{const e=Math.floor((Date.now()-this.lastRequestTime)/1e3);this.cooldownTimeLeft=Math.max(this.cooldownPeriod-e,0),this.cooldownTimeLeft<=0&&(clearInterval(this.cooldownInterval),this.lastRequestTime=null)},1e3)}},mounted(){},beforeDestroy(){this.cooldownInterval&&clearInterval(this.cooldownInterval)}},C=S,P=Object(d["a"])(C,_,k,!1,null,null,null),q=P.exports,R=function(){var e=this,t=e._self._c;return t("div",[t("v-expand-transition",[t("div",{directives:[{name:"show",rawName:"v-show",value:Boolean(e.songRequests.length),expression:"Boolean(songRequests.length)"}]},[t("v-row",[t("v-col",{attrs:{cols:"12"}},[t("p",{staticClass:"caption mb-0"},[e._v("Recently Played")]),t("v-divider",{staticClass:"my-2"}),t("div",{staticClass:"pr-4",staticStyle:{"max-height":"150px","overflow-y":"scroll",background:"transparent"}},[t("v-slide-y-transition",{staticClass:"py-0",staticStyle:{background:"transparent"},attrs:{group:"",tag:"v-list"}},e._l(e.songRequests,(function(s){return t("v-alert",{key:s.id,staticClass:"my-1",attrs:{dense:"",color:"primary lighten-3",border:"left",elevation:"2","colored-border":"",icon:"mdi-music"}},[t("strong",[e._v(e._s(s.title))]),e._v(" by "+e._s(s.artist)+" ")])})),1)],1)],1)],1)],1)])],1)},T=[],G={data(){return{songRequests:[]}},sockets:{SONG_REQUEST_PLAYED(e){this.songRequests.unshift(e),this.songRequests.length>5&&this.songRequests.pop()},async SONG_REQUEST_UNPLAYED(){await this.getRecentlyPlayed()},async SONG_REQUEST_DELETED(){await this.getRecentlyPlayed()},async SONG_REQUEST_UPDATED(e){const t=this.songRequests.findIndex(t=>t.id===e.id);t>-1&&this.songRequests.splice(t,1,e)}},methods:{async getRecentlyPlayed(){try{const{data:{data:e}}=await x["a"].getSongRequests(1,5,"played"),{data:t}=e;this.songRequests=t}catch(e){console.log({error:e})}}},async mounted(){await this.getRecentlyPlayed()}},E=G,O=Object(d["a"])(E,R,T,!1,null,null,null),A=O.exports,$=function(){var e=this,t=e._self._c;return t("div",[t("v-expand-transition",[t("div",{directives:[{name:"show",rawName:"v-show",value:Boolean(e.songRequests.length),expression:"Boolean(songRequests.length)"}]},[t("v-row",[t("v-col",{attrs:{cols:"12"}},[t("p",{staticClass:"caption mb-0"},[e._v("Recently Played")]),t("v-divider",{staticClass:"my-2"}),t("div",{staticClass:"pr-4",staticStyle:{"max-height":"200px","overflow-y":"scroll",background:"transparent"},attrs:{dark:!1}},[t("v-slide-y-transition",{staticClass:"py-0",staticStyle:{background:"transparent"},attrs:{group:"",tag:"v-list"}},e._l(e.songRequests,(function(s){return t("v-alert",{key:s.id,staticClass:"my-1",attrs:{dense:"",color:"primary lighten-3",border:"left",elevation:"2","colored-border":"",icon:"mdi-music"}},[t("strong",[e._v(e._s(s.title))]),e._v(" by "+e._s(s.artist)+" ")])})),1)],1)],1)],1)],1)])],1)},j=[],L={data(){return{songRequests:[]}},sockets:{SONG_REQUEST_PLAYED(e){this.songRequests.unshift(e),this.songRequests.length>10&&this.songRequests.pop()},async SONG_REQUEST_UNPLAYED(){await this.getRecentlyPlayed()},async SONG_REQUEST_DELETED(){await this.getRecentlyPlayed()},async SONG_REQUEST_UPDATED(e){const t=this.songRequests.findIndex(t=>t.id===e.id);t>-1&&this.songRequests.splice(t,1,e)}},methods:{async getRecentlyPlayed(){try{const{data:{data:e}}=await x["a"].getSongRequests(1,10,"played"),{data:t}=e;this.songRequests=t}catch(e){console.log({error:e})}}},async mounted(){await this.getRecentlyPlayed()}},N=L,B=Object(d["a"])(N,$,j,!1,null,null,null),D=B.exports,U=function(){var e=this,t=e._self._c;return t("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t("v-btn",e._g(e._b({staticClass:"ml-4",class:e.$vuetify.breakpoint.smAndDown?"":"mt-16",staticStyle:{height:"40px",width:"40px","border-radius":"10px"},attrs:{"x-small":"",href:`https://www.${e.platform}.com/${e.username}`,target:"_blank",rel:"noopener",outlined:""}},"v-btn",a,!1),s),[t("v-icon",[e._v(e._s(e.icon))])],1)]}}])},[t("span",[e._v("Follow on "+e._s(e.platform.charAt(0).toUpperCase()+e.platform.slice(1)))])])},F=[],I={props:{platform:{type:String,required:!0,default:"twitter",validator:e=>["twitter","facebook","instagram","linkedin","github"].includes(e)},username:{type:String,required:!0,default:"yourusername"},link:{type:String,default:""},icon:{type:String,default:"mdi-twitter"}}},M=I,Q=Object(d["a"])(M,U,F,!1,null,null,null),z=Q.exports,Y={name:"Home",components:{SongRequestForm:q,SocialButton:z,RecentlyPlayedMobile:A,RecentlyPlayedDesktop:D},methods:{requestSong(e){console.log({e:e,event:"requestSong"})}},data(){return{socialLinks:[{platform:"instagram",username:"timikeys_",icon:"mdi-instagram"},{platform:"tiktok",username:"@timikeys_",icon:"mdi-music"},{platform:"youtube",username:"@timikeys_",icon:"mdi-youtube"},{platform:"linkedin",username:"in/timi-esan-21442b20b",icon:"mdi-linkedin"}]}}},H=Y,J=(s("879f"),Object(d["a"])(H,w,b,!1,null,null,null)),K=J.exports,V=function(){var e=this,t=e._self._c;return t("div",{staticClass:"search"},[t("div",{staticStyle:{width:"100vw",height:"100vh"}},[t("v-container",[t("v-row",[t("v-col",{staticClass:"pt-8 mt-8",attrs:{cols:"12"}},[t("div",{staticClass:"d-flex align-center"},[t("h1",[e._v("Search Performances")])]),t("v-divider",{staticClass:"my-1 mb-3"}),t("div",{staticClass:"d-flex align-center"},[t("v-text-field",{attrs:{"hide-details":"","prepend-inner-icon":"mdi-magnify",clearable:"",rounded:"",solo:"",outlined:"",placeholder:"artist, album, song title"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getPerformances()},"click:clear":e.clearSearch},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),t("v-btn",{staticClass:"mx-2",attrs:{"x-large":"",loading:e.loadingResults,disabled:e.loadingResults,rounded:"",color:"primary"},on:{click:function(t){return e.getPerformances()}}},[t("v-icon",{attrs:{left:""}},[e._v("mdi-magnify")]),e._v(" Search ")],1)],1)],1)],1),t("v-row",{staticClass:"mt-0"},[t("v-col",{attrs:{cols:"12"}},[t("v-card",{attrs:{"min-height":"70vh"}},[t("v-tabs",{staticClass:"text-uppercase",attrs:{dark:"",grow:"","background-color":"primary"},on:{change:e.tabChange},model:{value:e.tabs,callback:function(t){e.tabs=t},expression:"tabs"}},[t("v-tab",[e._v("Genres "),t("span",{staticClass:"grey--text text--lighten-1"},[e._v("Â ("+e._s(e.filteredGenres.length)+")")])]),t("v-tab",[e._v("Performances "),t("span",{staticClass:"grey--text text--lighten-1"},[e._v("Â ("+e._s(e.total)+")")])])],1),t("v-tabs-items",{model:{value:e.tabs,callback:function(t){e.tabs=t},expression:"tabs"}},[t("v-tab-item",{attrs:{value:0}},[t("v-container",[t("v-row",[t("v-col",{attrs:{cols:"12"}},[t("v-text-field",{attrs:{"hide-details":"",outlined:"",solo:"",label:"filter Genres","prepend-inner-icon":"mdi-filter-variant"},model:{value:e.genreFilter,callback:function(t){e.genreFilter=t},expression:"genreFilter"}}),t("GenreList",{attrs:{genres:e.filteredGenres,selectedGenres:e.selectedGenres},on:{genresSelected:e.genresSelected}})],1),t("v-overlay",{attrs:{value:e.loadingGenres,opacity:.6}},[t("v-progress-circular",{attrs:{indeterminate:"",size:"24"}})],1)],1)],1)],1),t("v-tab-item",{attrs:{value:1}},[e.search||e.selectedGenres.length?t("div",[t("div",{staticClass:"d-flex align-center"},[t("v-subheader",[e.search?t("span",[e._v('Searching: "'+e._s(e.search)+'" Â ')]):e._e(),e.selectedGenres.length?t("span",[e._v("in Genres: "+e._s(e.selectedGenres))]):e._e()]),t("v-spacer"),t("v-btn",{staticClass:"mr-4",attrs:{"x-small":""},on:{click:function(t){return e.clearSearch()}}},[t("v-icon",{attrs:{left:""}},[e._v("mdi-window-close")]),e._v(" clear")],1)],1),t("v-divider")],1):e._e(),t("PerformanceList",{attrs:{performances:e.performances}}),t("v-container",[t("v-row",[t("v-col",{staticClass:"py-1 mt-2",attrs:{cols:"12",sm:"4"}},[t("div",{staticClass:"d-flex align-center justify-start"},[t("p",{staticClass:"mb-0 mr-8 grow"},[e._v(" Showing "+e._s((e.currentPage-1)*e.limit+1)+" to "+e._s(e.limit>e.total?e.total:e.limit*e.currentPage)+" of "+e._s(e.total)+" ")]),t("v-select",{staticClass:"shrink",attrs:{"hide-details":"",solo:"",dense:"",items:[5,10,25,50]},on:{change:e.limitChanged},model:{value:e.limit,callback:function(t){e.limit=t},expression:"limit"}}),t("p",{staticClass:"mb-0 ml-4 grow"},[e._v(" "+e._s(e.$vuetify.breakpoint.mdAndUp?"Items per":"")+"Page ")])],1)]),t("v-col",{staticClass:"py-1 mt-2",attrs:{cols:"2"}}),t("v-col",{staticClass:"py-1 mt-2",attrs:{cols:"12",sm:"6"}},[t("div",{staticClass:"d-flex",class:e.$vuetify.breakpoint.smAndUp?"justify-end":"justify-center"},[t("v-pagination",{attrs:{length:e.pages,"prev-icon":"mdi-menu-left","next-icon":"mdi-menu-right","total-visible":7},on:{next:e.pageNext,previous:e.pagePrevious,input:e.pageInput},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)])],1)],1),t("v-overlay",{attrs:{value:e.loadingResults,opacity:.6}},[t("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1)],1)],1)],1)],1)],1)],1)],1)])},W=[],Z=function(){var e=this,t=e._self._c;return t("div",[t("v-list-item-group",{attrs:{dense:"",multiple:"","active-class":""},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},[t("v-slide-y-transition",{attrs:{group:"",tag:"v-list"}},e._l(e.genres,(function(s){return t("v-list-item",{key:s.genre,attrs:{value:s.genre},scopedSlots:e._u([{key:"default",fn:function({active:a}){return[t("v-list-item-action",[t("v-checkbox",{staticClass:"mr-0",attrs:{"input-value":a}})],1),t("v-list-item-content",[t("v-list-item-title",{staticClass:"text-capitalize"},[e._v(e._s(s.genreName)+" "),t("span",{staticClass:"grey--text text--lighten-1"},[e._v("("+e._s(s._count.SongGenres)+" songs)")])])],1)]}}],null,!0)})})),1)],1)],1)},X=[],ee={props:{genres:{type:Array,default:()=>[]},selectedGenres:{type:Array,default:()=>[]}},data(){return{}},computed:{selected:{get(){return this.selectedGenres},set(e){console.log({val:e}),this.$emit("genresSelected",e)}}},methods:{}},te=ee,se=Object(d["a"])(te,Z,X,!1,null,null,null),ae=se.exports,ne=function(){var e=this,t=e._self._c;return t("div",[t("v-list",{attrs:{dense:e.$vuetify.breakpoint.smAndDown,"two-line":""}},[t("v-list-item-group",{model:{value:e.selectedPerformance,callback:function(t){e.selectedPerformance=t},expression:"selectedPerformance"}},[t("v-slide-y-transition",{attrs:{group:""}},e._l(e.performances,(function(s){return t("v-list-item",{key:s.id},[t("v-list-item-avatar",[t("v-icon",[e._v("mdi-music")])],1),t("v-list-item-content",[t("v-list-item-title",[e._v(e._s(s.songName))]),t("v-list-item-subtitle",{staticClass:"text-capitalize"},[e._v(e._s(s.artistName))])],1),t("v-list-item-action",[t("v-btn",{attrs:{fab:"",color:"error","x-small":""},on:{click:function(t){return e.openLink(s.tiktokVideoLink)}}},[t("v-icon",[e._v("mdi-play")])],1)],1)],1)})),1)],1)],1)],1)},oe=[],re={props:{performances:{type:Array,default:()=>[]}},data(){return{selectedPerformance:null}},methods:{openLink(e){console.log({url:e}),window.open(e,"_blank")}}},ie=re,le=Object(d["a"])(ie,ne,oe,!1,null,null,null),ce=le.exports,ue={components:{GenreList:ae,PerformanceList:ce},data(){return{tabs:null,genres:[],performances:[],search:"",currentPage:1,limit:10,pages:0,next:null,total:1,loadingGenres:!1,loadingResults:!1,selectedGenres:[],genreFilter:""}},methods:{tabChange(e){console.log({e:e})},async getGenres(){if(!this.loadingGenres){this.loadingGenres=!0;try{const{data:{data:e}}=await x["a"].getGenres();console.log({data:e}),this.genres=e}catch(e){console.log({error:e})}finally{this.loadingGenres=!1}}},async getPerformances(e=1,t=10){if(this.loadingResults)return;this.loadingResults=!0;const s=Boolean(this.search||this.selectedGenres.length);try{const{data:{data:a}}=s?await x["a"].searchPerformances(e,t,this.search,this.selectedGenres.length>1?this.selectedGenres.join(","):this.selectedGenres[0]):await x["a"].getPerformances(e,t),{total:n,pages:o,prev:r,next:i,page:l,data:c,limit:u}=a;console.log({data:a}),this.total=n,this.currentPage=l,this.prev=r,this.next=i,this.pages=o,this.performances=c,this.limit=u,s&&(this.tabs=1)}catch(a){console.log({error:a})}finally{this.loadingResults=!1}},async limitChanged(e){await this.getPerformances(1,e)},async pageInput(e){await this.getPerformances(e,this.limit)},async pagePrevious(){await this.getPerformances(this.currentPage,this.limit)},async pageNext(){await this.getPerformances(this.currentPage,this.limit)},async genresSelected(e){console.log({e:e}),this.selectedGenres=e,this.loadingGenres=!0,await this.getPerformances(),this.loadingGenres=!1},async clearSearch(){this.search="",this.selectedGenres=[],this.genreFilter="",await this.getGenres(),await this.getPerformances()}},computed:{filteredGenres(){return this.genreFilter?this.genres.filter(e=>e.genre.toLowerCase().includes(this.genreFilter.toLowerCase())||e.genreName.toLowerCase().includes(this.genreFilter.toLowerCase())):this.genres}},async mounted(){await this.getGenres(),await this.getPerformances()}},de=ue,me=Object(d["a"])(de,V,W,!1,null,null,null),ge=me.exports;a["default"].use(y["a"]);const he=[{path:"/",name:"pages.home",component:K},{path:"/search",name:"pages.search",component:ge},{path:"/about",name:"pages.about",component:()=>s.e("chunk-2d22d746").then(s.bind(null,"f820"))},{path:"/admin",name:"Admin",component:()=>s.e("about").then(s.bind(null,"3530"))}],pe=new y["a"]({mode:"hash",base:"/",routes:he});var ve=pe,fe=s("daa8"),ye=s("5132"),we=s.n(ye),be={toggleSideBar(e,{show:t}){return new Promise(s=>{e.commit("toggleSideBar",t),s()})},showToast(e,{show:t,sclass:s="",message:a="",timeout:n=1e3}){return new Promise(o=>{e.commit("showToast",{show:t,sclass:s,message:a,timeout:n}),o(n)})}},_e={showToast(e,t){for(const s in t)e.toast[s]=t[s];e.toast.icon=t.sclass?e.toast.icons[t.sclass]:""},showGlobalLoader(e,t){for(const s in t)e.loader[s]=t[s]},showGlobalAlert(e,t){for(const s in t)e.globalAlert[s]=t[s]},toggleSideBar(e,t){e.sideBar.show=t},togglePageNav(e,t){e.pageNav.show=t},toggleAppNav(e,t){e.appNav.show=t}},ke={toast(e){return e.toast}},xe=()=>({toast:{sclass:"",message:"",show:!1,timeout:-1,icons:{success:"mdi-check",warning:"mdi-alert",error:"mdi-window-close",info:"mdi-information"},icon:""},loader:{show:!1,color:"primary",message:"Loading - Please stand by"},sideBar:{show:!1},globalAlert:{show:!1,action:"",message:"",link:"",sclass:"",closable:!1,icons:{success:"mdi-check",warning:"mdi-alert",error:"mdi-window-close",info:"mdi-information"}},pageNav:{show:!1},appNav:{show:!0}}),Se={namespaced:!0,state:xe,actions:be,mutations:_e,getters:ke},Ce={ui:Se};a["default"].use(l["a"]);var Pe=new l["a"].Store({state:{},mutations:{},actions:{},modules:{...Ce}}),qe=s("01ea"),Re=s("ce5b"),Te=s.n(Re);s("bf40");a["default"].use(Te.a);var Ge=new Te.a({theme:{themes:{light:{primary:"#6b21a8",secondary:"#424242",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"}}}});s("d5e8"),s("5363");a["default"].config.productionTip=!1,a["default"].use(new we.a({debug:!0,connection:Object(fe["a"])(""+qe["a"].baseUrl,{path:"/socket"}),vuex:{store:Pe,actionPrefix:"SOCKET_",mutationPrefix:"SOCKET_"}})),new a["default"]({router:ve,store:Pe,vuetify:Ge,render:e=>e(f)}).$mount("#app")},"879f":function(e,t,s){"use strict";s("e750")},e750:function(e,t,s){},f106:function(e,t,s){e.exports=s.p+"img/timikeys1.a2dbd528.jpg"}});
//# sourceMappingURL=app.4a807070.js.map